{"version":3,"file":"angular-tawk.umd.js.map","sources":["ng://angular-tawk/lib/angular-tawk.component.ts","ng://angular-tawk/lib/angular-tawk.module.ts"],"sourcesContent":["import { Component, Inject, Input, OnDestroy, OnInit, Renderer2 } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\n\n@Component({\n    selector: 'angular-tawk',\n    template: ``,\n    styles: []\n})\nexport class AngularTawkComponent implements OnInit, OnDestroy {\n    @Input() id: string;\n    @Input() isVisibleOnMobile: string;\n    isMobile = false;\n    script = this.renderer.createElement('script');\n\n    constructor(private renderer: Renderer2, @Inject(DOCUMENT) private document) { }\n\n    ngOnInit() {\n        if (navigator.userAgent.match(/Android/i)\n            || navigator.userAgent.match(/webOS/i)\n            || navigator.userAgent.match(/iPhone/i)\n            || navigator.userAgent.match(/iPad/i)\n            || navigator.userAgent.match(/iPod/i)\n            || navigator.userAgent.match(/BlackBerry/i)\n            || navigator.userAgent.match(/Windows Phone/i)\n        ) {\n            this.isMobile = true;\n        }\n\n        if (window[`$_Tawk`] && window[`$_Tawk`].downloaded) {\n            if (this.isMobile && this.isVisibleOnMobile === 'no') {\n                window[`$_Tawk`].hideWidget();\n            } else {\n                window[`$_Tawk`].showWidget();\n            }\n        } else {\n            this.script.text = `var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date(), isVisible = '${this.isVisibleOnMobile}';\n                (function () {\n                var s1 = document.createElement(\"script\"), s0 = document.getElementsByTagName(\"script\")[0];\n                s1.async = true;\n                s1.src = 'https://embed.tawk.to/${this.id}/default';\n                s1.charset = 'UTF-8';\n                s1.setAttribute('crossorigin', '*');\n                s0.parentNode.insertBefore(s1, s0);\n                })();\n                    Tawk_API.onLoad = function() {\n                        if (${this.isMobile} && isVisible === 'no') {\n                            Tawk_API.hideWidget();\n                        }\n                    };\n                `;\n            this.renderer.appendChild(this.document.body, this.script);\n        }\n    }\n\n    ngOnDestroy() {\n        if (window[`$_Tawk`] && window[`$_Tawk`].ready) {\n            window[`$_Tawk`].hideWidget();\n        }\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { AngularTawkComponent } from './angular-tawk.component';\n\n@NgModule({\n  declarations: [AngularTawkComponent],\n  imports: [\n  ],\n  exports: [AngularTawkComponent]\n})\nexport class AngularTawkModule { }\n"],"names":["Component","Renderer2","Inject","DOCUMENT","Input","NgModule"],"mappings":";;;;;;;;;;;AAAA;QAcI,8BAAoB,QAAmB,EAA4B,QAAQ;YAAvD,aAAQ,GAAR,QAAQ,CAAW;YAA4B,aAAQ,GAAR,QAAQ,CAAA;YAH3E,aAAQ,GAAG,KAAK,CAAC;YACjB,WAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;SAEiC;;;;QAEhF,uCAAQ;;;YAAR;gBACI,IAAI,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC;uBAClC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC;uBACnC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC;uBACpC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC;uBAClC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC;uBAClC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,aAAa,CAAC;uBACxC,SAAS,CAAC,SAAS,CAAC,KAAK,CAAC,gBAAgB,CAAC,EAChD;oBACE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;iBACxB;gBAED,IAAI,MAAM,CAAC,QAAQ,CAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE;oBACjD,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,iBAAiB,KAAK,IAAI,EAAE;wBAClD,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,CAAC;qBACjC;yBAAM;wBACH,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,CAAC;qBACjC;iBACJ;qBAAM;oBACH,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,8EAA4E,IAAI,CAAC,iBAAiB,+OAI/E,IAAI,CAAC,EAAE,6QAM3B,IAAI,CAAC,QAAQ,uJAI1B,CAAC;oBACN,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;iBAC9D;aACJ;;;;QAED,0CAAW;;;YAAX;gBACI,IAAI,MAAM,CAAC,QAAQ,CAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,EAAE;oBAC5C,MAAM,CAAC,QAAQ,CAAC,CAAC,UAAU,EAAE,CAAC;iBACjC;aACJ;;oBAvDJA,cAAS,SAAC;wBACP,QAAQ,EAAE,cAAc;wBACxB,QAAQ,EAAE,EAAE;qBAEf;;;;;wBAPqDC,cAAS;wDAcjBC,WAAM,SAACC,eAAQ;;;;yBALxDC,UAAK;wCACLA,UAAK;;QAiDV,2BAAC;KAxDD;;;;;;;ACHA;QAGA;SAMkC;;oBANjCC,aAAQ,SAAC;wBACR,YAAY,EAAE,CAAC,oBAAoB,CAAC;wBACpC,OAAO,EAAE,EACR;wBACD,OAAO,EAAE,CAAC,oBAAoB,CAAC;qBAChC;;QACgC,wBAAC;KANlC;;;;;;;;;;;;;;;;;;;;;;;;;"}
